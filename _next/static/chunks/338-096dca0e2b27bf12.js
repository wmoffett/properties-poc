"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[338],{4338:function(n,e,r){r.d(e,{p:function(){return J}});var t=r(6983),o=r(7568),i=r(4051),a=r.n(i),s=r(5893),c=r(8030),u=r(2705),d=r(6486),l=r.n(d),p=(r(7294),r(3454));p.env.CONTENTFUL_SPACE_ID="o80oqw32rhmg",p.env.CONTENTFUL_ACCESS_TOKEN="Kv--4rISSalKyJLXuUL8bPKb950cDc52FSfrPHCPu6Y",p.env.CONTENTFUL_PREVIEW_ACCESS_TOKEN="Kv--4rISSalKyJLXuUL8bPKb950cDc52FSfrPHCPu6Y";var f="\nid\nname\naddress\nzip\ncity\ncityUrl\nstate\nstateUrl\nstateCode\npropertyUrl\ndescription {\n  json\n  links {\n    assets {\n      __typename\n      block {\n        sys {\n          id\n        }\n        __typename\n        url\n        title\n        width\n        height\n        description\n        fileName\n        contentType\n      }\n    }\n  }\n}\nrating\nphoto {\n  url\n  description\n}\nphoto1 {\n  url\n  description\n}\nphoto2 {\n  url\n  description\n}\n";function h(n){return v.apply(this,arguments)}function v(){return v=(0,o.Z)(a().mark((function n(e){var r,t=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]&&t[1],console.log("token",r?p.env.CONTENTFUL_PREVIEW_ACCESS_TOKEN:p.env.CONTENTFUL_ACCESS_TOKEN),n.abrupt("return",fetch("https://graphql.contentful.com/content/v1/spaces/".concat(p.env.CONTENTFUL_SPACE_ID),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r?p.env.CONTENTFUL_PREVIEW_ACCESS_TOKEN:p.env.CONTENTFUL_ACCESS_TOKEN)},body:JSON.stringify({query:e})}).then((function(n){return n.json()})));case 3:case"end":return n.stop()}}),n)}))),v.apply(this,arguments)}function x(n){var e,r;return null===n||void 0===n||null===(e=n.data)||void 0===e||null===(r=e.propertiesCollection)||void 0===r?void 0:r.items}function E(n,e,r){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(a().mark((function n(e,r,t){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"==typeof e){n.next=2;break}return n.abrupt("return");case 2:if("string"==typeof r){n.next=4;break}return n.abrupt("return");case 4:if("string"==typeof t){n.next=6;break}return n.abrupt("return");case 6:return console.log("we have a propertyUrl:",t),n.next=9,h('query {\n      propertiesCollection(where: { stateUrl: "'.concat(e,'", cityUrl: "').concat(r,'" , propertyUrl: "').concat(t,'" }, preview: false, limit: 1) {\n        items {\n          ').concat(f,"\n        }\n      }\n    }"));case 9:return o=n.sent,n.abrupt("return",x(o));case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var m=r(4924),C=r(4129),S=r(6437),y=r(4902),j=r(3887);function L(n){var e=n.node,r=n.data.links.assets.block.find((function(n){return n.sys.id===e.data.target.sys.id}));return r?(0,s.jsx)(N,{data:r}):null}var T,O,N=function(n){var e=n.data,r=e.url,t=e.width,o=e.height,i=e.description;return(0,s.jsxs)(y.xu,{children:[(0,s.jsx)("source",{srcSet:"".concat(r,"?fm=webp"),type:"image/webp"}),(0,s.jsx)("source",{srcSet:"".concat(r,"?fm=avif"),type:"image/avif"}),(0,s.jsx)("source",{srcSet:"".concat(r,"?fm=png"),type:"image/png"}),(0,s.jsx)("source",{srcSet:"".concat(r,"?fm=jpg"),type:"image/jpg"}),(0,s.jsx)(j.Ee,{alt:i,src:r,width:t,height:o,loading:"lazy"})]})},_=r(6042),g=r(9396),K=r(9534),b=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.xv,(0,g.Z)((0,_.Z)({},e),{m:2}))},A=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.X6,(0,_.Z)({as:"h1",size:"2xl",m:1},e))},U=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.X6,(0,_.Z)({as:"h2",size:"xl",m:1},e))},B=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.X6,(0,_.Z)({as:"h3",size:"lg",m:1},e))},D=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.X6,(0,_.Z)({as:"h4",size:"md",m:1},e))},P=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.X6,(0,_.Z)({as:"h5",size:"sm",m:1},e))},k=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.X6,(0,_.Z)({as:"h6",size:"xs",m:1},e))},I=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.xu,(0,_.Z)({},e))},w=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.QI,(0,_.Z)({disablePadding:!0,component:"ul",m:10,my:1},e))},F=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.GS,(0,_.Z)({disablePadding:!0,component:"ol",m:10,my:1},e))},R=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(y.HC,(0,_.Z)({button:!1,disableGutters:!0},e))},H=r(6696),M=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(H.xJ,{m:2,my:1,children:(0,s.jsx)(H.iA,{children:(0,s.jsx)(H.p3,(0,_.Z)({},e))})})},X=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(H.Tr,(0,_.Z)({},e))},G=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(H.Td,(0,_.Z)({},e))},z=function(n){n.node;var e=(0,K.Z)(n,["node"]);return(0,s.jsx)(H.Td,(0,g.Z)((0,_.Z)({},e),{component:"th"}))},Q=function(n){return function(e,r){return(0,s.jsx)(n,{node:e,children:r})}},V=(T={},(0,m.Z)(T,S.MARKS.BOLD,(function(n){return(0,s.jsx)(y.xv,{as:"b",children:n})})),(0,m.Z)(T,S.MARKS.ITALIC,(function(n){return(0,s.jsx)(y.xv,{as:"i",children:n})})),(0,m.Z)(T,S.MARKS.UNDERLINE,(function(n){return(0,s.jsx)(y.xv,{as:"u",children:n})})),(0,m.Z)(T,S.MARKS.CODE,(function(n){return(0,s.jsx)(y.EK,{children:n})})),T),Y=(O={},(0,m.Z)(O,S.BLOCKS.DOCUMENT,(function(n,e){return e})),(0,m.Z)(O,S.BLOCKS.PARAGRAPH,Q(b)),(0,m.Z)(O,S.BLOCKS.HEADING_1,Q(A)),(0,m.Z)(O,S.BLOCKS.HEADING_2,Q(U)),(0,m.Z)(O,S.BLOCKS.HEADING_3,Q(B)),(0,m.Z)(O,S.BLOCKS.HEADING_4,Q(D)),(0,m.Z)(O,S.BLOCKS.HEADING_5,Q(P)),(0,m.Z)(O,S.BLOCKS.HEADING_6,Q(k)),(0,m.Z)(O,S.BLOCKS.EMBEDDED_ENTRY,Q(I)),(0,m.Z)(O,S.BLOCKS.UL_LIST,Q(w)),(0,m.Z)(O,S.BLOCKS.OL_LIST,Q(F)),(0,m.Z)(O,S.BLOCKS.TABLE,Q(M)),(0,m.Z)(O,S.BLOCKS.TABLE_HEADER_CELL,Q(z)),(0,m.Z)(O,S.BLOCKS.TABLE_ROW,Q(X)),(0,m.Z)(O,S.BLOCKS.TABLE_CELL,Q(G)),(0,m.Z)(O,S.BLOCKS.LIST_ITEM,(function(n){var e,r={nodeType:"document",data:{},content:[n]};return(0,C.h)(r,{renderMark:V,renderNode:(e={},(0,m.Z)(e,S.BLOCKS.PARAGRAPH,(function(n,e){return e})),(0,m.Z)(e,S.BLOCKS.LIST_ITEM,Q(R)),e)})})),(0,m.Z)(O,S.BLOCKS.HR,(function(){return(0,s.jsx)(y.iz,{})})),(0,m.Z)(O,S.BLOCKS.QUOTE,(function(n,e){return(0,s.jsx)(y.xv,{as:"blockquote",children:e})})),O),q=function(n){return n};var J=(0,t.fZ)({projects:[{id:"hEjxg3oDqYiejQDXZXwgPg",token:"9wi9WAkGmDNX9mkZepOrco5i1E5eCTdJbY75chlnYLdQFycQ7DsAQuT8YSkWLZbbmPxXOpQ3N9lSaRtIwN8Q"}],preview:!1});J.registerComponent((function(n){var e=n.stateUrl,r=n.cityUrl,t=n.propertyUrl,i=n.children,d=n.className,l=(0,u.usePlasmicQueryData)(JSON.stringify({stateUrl:e,cityUrl:r,propertyUrl:t}),(0,o.Z)(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",E(e,r,t));case 1:case"end":return n.stop()}}),n)}))));return(null===l||void 0===l?void 0:l.data)?(0,s.jsx)("div",{className:d,children:null===l||void 0===l?void 0:l.data.map((function(n,e){return(0,s.jsx)(c.DataProvider,{name:"propertyItem",data:n,children:(0,c.repeatedElement)(e,i)},n.slug)}))}):(0,s.jsx)("div",{children:"Could not find collection."})}),{name:"PropertyFetcher",props:{stateUrl:{type:"string",defaultValue:"south-carolina",options:["south-carolina"]},cityUrl:{type:"string",defaultValue:"charleston",options:["charleston","hilton-head-island"]},propertyUrl:{type:"string",defaultValue:"oaks-at-charleston",options:["oaks-at-charleston","the-bayshore-on-hilton-head-island"]},children:{type:"slot",defaultValue:{type:"vbox",children:[{type:"component",name:"PropertyField"}]}}},providesData:!0}),J.registerComponent((function(n){var e=n.className,r=n.path,t=n.setControlContextData,o=(0,c.useSelector)("propertyItem");if(!o)return(0,s.jsx)("div",{children:"PropertyField must be used within a PropertyFetcher"});if(null===t||void 0===t||t({fields:Object.keys(o)}),!r)return(0,s.jsx)("div",{children:"Field must specify a path."});var i=l().get(o,r);return(null===i||void 0===i?void 0:i.json)?function(n){var e,r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={renderNode:Object.assign((0,m.Z)({},S.BLOCKS.EMBEDDED_ASSET,(function(e){return L({node:e,data:n})})),Y,null!==(e=t.renderNode)&&void 0!==e?e:{}),renderMark:Object.assign({},V,null!==(r=t.renderMark)&&void 0!==r?r:{}),renderText:q};return t.renderText&&(o.renderText=t.renderText),(0,s.jsx)(s.Fragment,{children:(0,C.h)(n.json,o)})}(i):(null===i||void 0===i?void 0:i.url)?(0,s.jsx)("img",{src:i.url,alt:i.description}):(0,s.jsx)("div",{className:e,children:i})}),{name:"PropertyField",props:{path:{type:"choice",options:function(n,e){return e.fields}}}})}}]);